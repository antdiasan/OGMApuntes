# 3.6 Cascada, herencia y especificidad en CSS

CSS funciona segÃºn tres principios fundamentales que determinan quÃ© estilos se aplican finalmente a un elemento: **cascada**, **herencia** y **especificidad**.

---

## 1. La cascada

La palabra *cascada* en CSS significa que los estilos se aplican siguiendo un **orden de prioridad**.  
Cuando varias reglas afectan al mismo elemento, el navegador decide cuÃ¡l aplicar segÃºn tres factores:

1. **Origen de los estilos**  
   - Estilos del navegador (por defecto).  
   - Estilos del usuario (si el usuario define hojas personalizadas).  
   - Estilos del autor (los que escribimos en nuestro CSS). â†’ **Tienen mayor prioridad**.  

2. **Especificidad del selector** (se explica en el apartado 3).  

3. **Orden en el cÃ³digo**  
   Si dos reglas tienen la misma especificidad, **la Ãºltima que aparece en el CSS prevalece**.

ğŸ” Ejemplo:

```html
<p id="texto" class="rojo">Hola mundo</p>
```

```css
p {
  color: blue;
}

.rojo {
  color: red;
}

#texto {
  color: green;
}
```

ğŸ‘‰ El texto serÃ¡ **verde**, porque el selector por **id** (#texto) tiene mayor prioridad.

---

## 2. Herencia en CSS

La **herencia** significa que algunos estilos aplicados a un elemento padre se transmiten automÃ¡ticamente a sus hijos.

Ejemplo:

```html
<div>
  <p>Texto dentro de un div</p>
</div>
```

```css
div {
  color: purple;
}
```

ğŸ‘‰ El pÃ¡rrafo `<p>` se mostrarÃ¡ en **morado**, porque la propiedad `color` **se hereda**.

### Propiedades que se heredan habitualmente
- `color`  
- `font-family`  
- `font-size`  
- `line-height`  
- `text-align`  

### Propiedades que **no** se heredan
- `margin`, `padding`  
- `border`  
- `background`  
- `width`, `height`  

ğŸ“Œ Para forzar herencia se puede usar el valor `inherit`:

```css
p {
  background-color: inherit;
}
```

---

## 3. Especificidad

Cuando varias reglas coinciden sobre un mismo elemento, se aplica la que tenga **mayor especificidad**.

- Selectores de **etiqueta** (ej. `p`, `h1`) â†’ especificidad baja.  
- Selectores de **clase, pseudoclase o atributo** (ej. `.rojo`, `:hover`, `[type="text"]`) â†’ especificidad media.  
- Selectores de **id** (ej. `#principal`) â†’ especificidad alta.  
- Estilos **en lÃ­nea** (`style=""`) â†’ especificidad mÃ¡xima.  

Ejemplo:

```html
<p id="mensaje" class="destacado">Hola</p>
```

```css
p { color: blue; }        /* especificidad baja */
.destacado { color: red; } /* especificidad media */
#mensaje { color: green; } /* especificidad alta */
```

ğŸ‘‰ El resultado serÃ¡ **verde**, porque el id gana.

### Reglas especiales
- Si dos selectores tienen **la misma especificidad**, se aplica el que aparece **Ãºltimo** en el CSS.  
- `!important` fuerza que una regla prevalezca sobre todas las demÃ¡s (aunque debe usarse con mucha precauciÃ³n).

Ejemplo:

```css
p {
  color: red !important;
}
```

ğŸ‘‰ El pÃ¡rrafo serÃ¡ rojo aunque otras reglas tengan mÃ¡s especificidad.

---

## Buenas prÃ¡cticas

| âœ… Recomendado | âŒ Evitar |
|----------------|-----------|
| Usar clases para dar estilos reutilizables. | Usar IDs para dar estilos generales. |
| Escribir selectores simples y claros. | Hacer selectores demasiado largos y especÃ­ficos. |
| Usar `!important` solo como Ãºltimo recurso. | Abusar de `!important`. |
| Ordenar las hojas CSS de forma lÃ³gica. | Mezclar reglas sin criterio. |

---

## ğŸ“Œ Resumen

- La **cascada** determina el orden final de aplicaciÃ³n de los estilos.  
- La **herencia** transmite propiedades de padres a hijos (ej. `color`, `font-family`).  
- La **especificidad** decide quÃ© regla tiene mÃ¡s peso: etiqueta < clase < id < inline.  
- El uso excesivo de `!important` puede complicar el mantenimiento del cÃ³digo.  
